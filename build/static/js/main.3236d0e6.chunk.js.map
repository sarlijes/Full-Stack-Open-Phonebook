{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","_ref","message","undefined","react_default","a","createElement","className","Person","_ref2","person","handleDeleteButtonPress","name","number","onClick","AddPersonForm","_ref3","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Phonebook","_ref4","filteredList","Fragment","map","App_Person","key","Filter","_ref5","setFilteredListBySearchTerm","searchTerm","handleSearchTermChange","setFilteredList","persons","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchTerm","_useState9","_useState10","_useState11","_useState12","statusMessage","setStatusMessage","useEffect","personService","changeNotification","setTimeout","App_Notification","App_Filter","event","preventDefault","matchingPersonsList","forEach","el","nameLowerCase","toLowerCase","searchTermLowerCase","startsWith","push","target","App_AddPersonForm","nameFound","find","p","newPerson","catch","error","returnedPerson","App_Phonebook","filter","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3236d0e6.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    deletePerson: deletePerson\r\n}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Notification = ({ message }) => {\n  if (message === undefined) {\n    return null\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Person = ({ person, handleDeleteButtonPress }) => {\n  return (\n    <li>{person.name}: {person.number} <button onClick={handleDeleteButtonPress}>delete</button></li>\n  )\n}\n\nconst AddPersonForm = ({ addPerson, newName, handlePersonChange, newNumber, handleNumberChange }) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div> Name:\n            <input\n            value={newName}\n            onChange={handlePersonChange}\n          /> Number:\n            <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Phonebook = ({ filteredList, handleDeleteButtonPress }) => {\n  return (\n    <>\n      {filteredList.map(person =>\n        <Person key={person.id} person={person} handleDeleteButtonPress={() => handleDeleteButtonPress(person.id)} />\n      )\n      }\n    </>\n  )\n}\n\nconst Filter = ({ setFilteredListBySearchTerm, searchTerm, handleSearchTermChange, setFilteredList, persons }) => {\n  if (searchTerm === \"\") {\n    setFilteredList(persons)\n  }\n\n  return (\n    <form onSubmit={setFilteredListBySearchTerm}>\n      <div> Search\n      <input\n          value={searchTerm}\n          onChange={handleSearchTermChange}\n        />\n        <button type=\"submit\">go</button>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [filteredList, setFilteredList] = useState([])\n  const [statusMessage, setStatusMessage] = useState()\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const setFilteredListBySearchTerm = (event) => {\n    event.preventDefault()\n    let matchingPersonsList = []\n    persons.forEach(function (el) {\n      let nameLowerCase = el.name.toLowerCase()\n      let searchTermLowerCase = searchTerm.toLowerCase()\n      if (nameLowerCase.startsWith(searchTermLowerCase)) {\n        matchingPersonsList.push(el)\n        setFilteredList(matchingPersonsList)\n      }\n    });\n    if (searchTerm === \"\") {\n      setFilteredList(persons)\n    }\n  }\n\n  const changeNotification = (message) => {\n    setStatusMessage(message)\n    setTimeout(() => {\n      setStatusMessage(undefined)\n    }, 3000)\n  }\n\n  const addPerson = (event) => {\n    \n    event.preventDefault()\n    let nameFound = false\n\n    persons.forEach(function (el) {\n      if (el.name === newName) {\n        nameFound = true;\n      }\n    });\n\n    if (!nameFound) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          changeNotification(`Added ${newName}`)\n        })\n        .catch(error => {\n          changeNotification(`Adding failed: minimum length is 3 for name and 8 for the number`)\n        })\n\n    } else {\n      \n        const person = persons.find(p => p.name === newName)\n        const newPerson = person\n        newPerson.number = newNumber\n        personService.update(person.id, newPerson)\n        .catch(error => {\n          changeNotification(`Contact info of ${newName} was already deleted from server`)\n        })\n        setNewName('')\n        setNewNumber('')\n        changeNotification(`Updated the number of ${newName}`)\n    }\n  }\n\n  const handleDeleteButtonPress = id => {\n    const person = persons.find(p => p.id === id)\n      personService\n        .deletePerson(person.id)\n        .then(filter => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        changeNotification(`Deleted ${person.name} from the phone book`)\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchTermChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Phonebook</h1>\n\n        <Notification message={statusMessage} />\n\n        <Filter setFilteredListBySearchTerm={setFilteredListBySearchTerm}\n          searchTerm={searchTerm}\n          handleSearchTermChange={handleSearchTermChange}\n          setFilteredList={setFilteredList}\n          persons={persons} />\n\n        <h2>Add new</h2>\n\n        <AddPersonForm addPerson={addPerson}\n          newName={newName}\n          handlePersonChange={handlePersonChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange} />\n\n        <h2>Contacts</h2>\n        <Phonebook filteredList={filteredList} handleDeleteButtonPress={handleDeleteButtonPress} />\n\n      </header>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}