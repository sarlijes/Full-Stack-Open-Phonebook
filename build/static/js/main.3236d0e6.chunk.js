(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),u=n.n(c),o=(n(20),n(2)),i=n(3),l=n.n(i),m="/api/persons",s=function(){return l.a.get(m).then(function(e){return e.data})},d=function(e){return l.a.post(m,e).then(function(e){return e.data})},f=function(e,t){return l.a.put("".concat(m,"/").concat(e),t).then(function(e){return e.data})},h=function(e){return l.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},b=function(e){var t=e.message;return void 0===t?null:r.a.createElement("div",{className:"error"},t)},p=function(e){var t=e.person,n=e.handleDeleteButtonPress;return r.a.createElement("li",null,t.name,": ",t.number," ",r.a.createElement("button",{onClick:n},"delete"))},v=function(e){var t=e.addPerson,n=e.newName,a=e.handlePersonChange,c=e.newNumber,u=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null," Name:",r.a.createElement("input",{value:n,onChange:a})," Number:",r.a.createElement("input",{value:c,onChange:u}),r.a.createElement("button",{type:"submit"},"add"))))},E=function(e){var t=e.filteredList,n=e.handleDeleteButtonPress;return r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(p,{key:e.id,person:e,handleDeleteButtonPress:function(){return n(e.id)}})}))},g=function(e){var t=e.setFilteredListBySearchTerm,n=e.searchTerm,a=e.handleSearchTermChange,c=e.setFilteredList,u=e.persons;return""===n&&c(u),r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null," Search",r.a.createElement("input",{value:n,onChange:a}),r.a.createElement("button",{type:"submit"},"go")))},w=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),l=i[0],m=i[1],p=Object(a.useState)(""),w=Object(o.a)(p,2),C=w[0],j=w[1],O=Object(a.useState)(""),S=Object(o.a)(O,2),N=S[0],P=S[1],L=Object(a.useState)([]),y=Object(o.a)(L,2),B=y[0],D=y[1],T=Object(a.useState)(),k=Object(o.a)(T,2),A=k[0],F=k[1];Object(a.useEffect)(function(){s().then(function(e){c(e)})},[]);var J=function(e){F(e),setTimeout(function(){F(void 0)},3e3)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{message:A}),r.a.createElement(g,{setFilteredListBySearchTerm:function(e){e.preventDefault();var t=[];n.forEach(function(e){var n=e.name.toLowerCase(),a=N.toLowerCase();n.startsWith(a)&&(t.push(e),D(t))}),""===N&&D(n)},searchTerm:N,handleSearchTermChange:function(e){P(e.target.value)},setFilteredList:D,persons:n}),r.a.createElement("h2",null,"Add new"),r.a.createElement(v,{addPerson:function(e){e.preventDefault();var t=!1;if(n.forEach(function(e){e.name===l&&(t=!0)}),t){var a=n.find(function(e){return e.name===l}),r=a;r.number=C,f(a.id,r).catch(function(e){J("Contact info of ".concat(l," was already deleted from server"))}),m(""),j(""),J("Updated the number of ".concat(l))}else d({name:l,number:C}).then(function(e){c(n.concat(e)),m(""),j(""),J("Added ".concat(l))}).catch(function(e){J("Adding failed: minimum length is 3 for name and 8 for the number")})},newName:l,handlePersonChange:function(e){m(e.target.value)},newNumber:C,handleNumberChange:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Contacts"),r.a.createElement(E,{filteredList:B,handleDeleteButtonPress:function(e){var t=n.find(function(t){return t.id===e});h(t.id).then(function(t){c(n.filter(function(t){return t.id!==e}))}),J("Deleted ".concat(t.name," from the phone book"))}})))};u.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3236d0e6.chunk.js.map